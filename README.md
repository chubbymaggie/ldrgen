# ldrgen

This program is a small experimental random C program generator: On every
call it generates a new random C function and prints it to the standard
output. The generator is "liveness-driven", meaning that all the
computations it generates are actually used to compute the function's return
value. Other than this, ldrgen does not do much to ensure that its output
resembles anything like "real" programs.


## Examples

	$ frama-c -ldrgen
	[kernel] warning: no input file.
	[kernel] Parsing FRAMAC_SHARE/libc/__fc_builtin_for_normalization.i (no preprocessing)
	/* Generated by Frama-C */
	// Generated by ldrgen
	// Seed: 73502776
	float fn1(unsigned short p, short p_9)
	{
	  long v_7;
	  float v_5;
	  unsigned int v;
	  float result;
	  v_7 = ! (-540177888L);
	  v_5 = (float)298638348ULL;
	  v = (unsigned int)(! (v_7 << (long)((double)p)) | (long)(~ p_9));
	  result = (float)(~ ((59U ^ v) + (unsigned int)(- p)) / (unsigned int)v_5);
	  return result;
	}


## TODOs

Many more C language constructs should be added.

The command-line interface should be nicer, and no Frama-C kernel messages
should appear in the output.


## Installation

This program is implemented as a plugin for Frama-C <http://frama-c.com/>.
The easiest way to install Frama-C is to first install OPAM, the OCaml
package manager <http://opam.ocaml.org/>. You can then run

    opam install frama-c

or

    opam install frama-c-base

The latter should ask you for fewer additional system libraries to install,
but I have not tested ldrgen with it.

With Frama-C installed and the `frama-c` executable in your path, you can
compile ldrgen by running `make` and install it with `make install`. It will
be installed in Frama-C's plugin directory. You can remove it again by
running `make uninstall`.

For now, run ldrgen as `frama-c -ldrgen`. See `frama-c -ldrgen-h` for
documentation on some command-line flags that can affect the generated code.


## Contact

This program was written by Gerg√∂ Barany <gergo@tud.at>. It lives at
<https://github.com/gergo-/ldrgen>.

Comments, questions, bug reports, feature requests, and patches are welcome!


## Copying

This program is free software: you can redistribute it and/or modify it
under the terms of the GNU General Public License as published by the Free
Software Foundation, either version 3 of the License, or (at your option)
any later version.

This program is distributed in the hope that it will be useful, but WITHOUT
ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or
FITNESS FOR A PARTICULAR PURPOSE. See the GNU General Public License for
more details.

You should have received a copy of the GNU General Public License along with
this program (file LICENSE). If not, see <http://www.gnu.org/licenses/>.
